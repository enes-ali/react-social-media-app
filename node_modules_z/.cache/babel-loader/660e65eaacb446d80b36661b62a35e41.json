{"ast":null,"code":"import Cookies from 'universal-cookie';\nimport axios from 'axios';\nlet cookie = new Cookies();\nlet token = cookie.get(\"token\");\nconsole.log(\"Cookei Token\", token);\nlet account;\n\nif (token) {\n  axios.get(`http://localhost/api/user?token=${token}`).then(response => {\n    account = response.data;\n  }).catch(error => {\n    console.log(error);\n  });\n} else {\n  account = {\n    username: \"TEST\"\n  };\n}\n\nconsole.log(\"Reducer Account\", account);\nlet data = {\n  account: account,\n  token: token\n};\n\nfunction main_reducer(state = data, action) {\n  if (action.type == 'set_token') {\n    console.log(\"set token\");\n    return { ...state,\n      token: action.data\n    };\n  }\n\n  if (action.type == \"set_account\") {\n    console.log(\"set account\");\n    return { ...state,\n      account: action.data\n    };\n  }\n\n  if (action.type == \"set_is_auth\") {\n    console.log(\"set auth\");\n    return { ...state,\n      is_authenticated: action.data\n    };\n  }\n\n  return state;\n}\n\nexport default main_reducer;","map":{"version":3,"sources":["C:/Users/enes_/Desktop/backtemp/react/posts/src/reducers/reducer.js"],"names":["Cookies","axios","cookie","token","get","console","log","account","then","response","data","catch","error","username","main_reducer","state","action","type","is_authenticated"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAIC,MAAM,GAAG,IAAIF,OAAJ,EAAb;AACA,IAAIG,KAAK,GAAGD,MAAM,CAACE,GAAP,CAAW,OAAX,CAAZ;AACAC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,KAA5B;AAEA,IAAII,OAAJ;;AAEA,IAAGJ,KAAH,EAAS;AACLF,EAAAA,KAAK,CAACG,GAAN,CAAW,mCAAkCD,KAAM,EAAnD,EACCK,IADD,CACOC,QAAD,IAAc;AAChBF,IAAAA,OAAO,GAAGE,QAAQ,CAACC,IAAnB;AACH,GAHD,EAICC,KAJD,CAIQC,KAAD,IAAW;AACdP,IAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACH,GAND;AAQH,CATD,MASK;AACDL,EAAAA,OAAO,GAAG;AACNM,IAAAA,QAAQ,EAAE;AADJ,GAAV;AAGH;;AACDR,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BC,OAA/B;AACA,IAAIG,IAAI,GAAG;AACPH,EAAAA,OAAO,EAAEA,OADF;AAEPJ,EAAAA,KAAK,EAAEA;AAFA,CAAX;;AAKA,SAASW,YAAT,CAAsBC,KAAK,GAACL,IAA5B,EAAkCM,MAAlC,EAAyC;AAErC,MAAGA,MAAM,CAACC,IAAP,IAAe,WAAlB,EAA8B;AAC1BZ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,WAAM,EACF,GAAGS,KADD;AAEFZ,MAAAA,KAAK,EAAEa,MAAM,CAACN;AAFZ,KAAN;AAIH;;AAED,MAAGM,MAAM,CAACC,IAAP,IAAe,aAAlB,EAAgC;AAC5BZ,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,WAAM,EACF,GAAGS,KADD;AAEFR,MAAAA,OAAO,EAAES,MAAM,CAACN;AAFd,KAAN;AAIH;;AAED,MAAGM,MAAM,CAACC,IAAP,IAAe,aAAlB,EAAiC;AAC7BZ,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,WAAM,EACF,GAAGS,KADD;AAEFG,MAAAA,gBAAgB,EAAEF,MAAM,CAACN;AAFvB,KAAN;AAIH;;AAED,SAAOK,KAAP;AACH;;AAGD,eAAeD,YAAf","sourcesContent":["import Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\n\r\nlet cookie = new Cookies();\r\nlet token = cookie.get(\"token\");\r\nconsole.log(\"Cookei Token\", token);\r\n\r\nlet account;\r\n\r\nif(token){\r\n    axios.get(`http://localhost/api/user?token=${token}`)\r\n    .then((response) => {\r\n        account = response.data;\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    });\r\n    \r\n}else{\r\n    account = {\r\n        username: \"TEST\",\r\n    }\r\n}\r\nconsole.log(\"Reducer Account\", account);\r\nlet data = {\r\n    account: account,\r\n    token: token,\r\n}\r\n\r\nfunction main_reducer(state=data, action){\r\n\r\n    if(action.type == 'set_token'){\r\n        console.log(\"set token\");\r\n        return{\r\n            ...state,\r\n            token: action.data\r\n        }\r\n    }\r\n\r\n    if(action.type == \"set_account\"){\r\n        console.log(\"set account\");\r\n        return{\r\n            ...state,\r\n            account: action.data,\r\n        }\r\n    }\r\n\r\n    if(action.type == \"set_is_auth\" ){\r\n        console.log(\"set auth\");\r\n        return{\r\n            ...state,\r\n            is_authenticated: action.data\r\n        }\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\n\r\nexport default main_reducer;"]},"metadata":{},"sourceType":"module"}